{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Ledger Event",
  "type": "object",
  "properties": {
    "event_type": {
      "type": "string",
      "enum": [
        "CREATE",
        "REKEY",
        "DEPRECATE",
        "CONSOLIDATE",
        "MFID_UPDATE"
      ],
      "description": "Type of lifecycle event."
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "Time of the event in ISO 8601 format."
    },
    "ulid": {
      "type": "string",
      "pattern": "^[0-9A-HJKMNP-TV-Z]{26}$",
      "description": "ULID of the document affected."
    },
    "doc_key": {
      "type": "string",
      "description": "Human identifier at the time of the event."
    },
    "data": {
      "type": "object",
      "description": "Additional event-specific data."
    }
  },
  "required": ["event_type", "timestamp", "ulid", "data"],
  "additionalProperties": false
}